<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>iPod Classic Replica</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsmediatags@3.9.5/dist/jsmediatags.min.js"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <!-- Placeholder for J2ME Emulator Library -->
    <script src="https://unpkg.com/j2me.js/dist/j2me.js"></script>
  <script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/"
  }
}
</script>
<style>
  :root {
    /* 
      Define rem-based dimensions for both orientations to calculate a dynamic root font size.
      This ensures the entire UI scales to fit the viewport while maintaining aspect ratio.
    */
    --ipod-w-portrait: 22.5;
    --ipod-h-portrait: 37.5;
    
    /* Landscape width = screen body (22.5rem) + gap (2rem) + wheel (15rem) */
    --ipod-w-landscape: 39.5; 
    /* Landscape height = screen body height (approx 18.25rem) + some vertical padding */
    --ipod-h-landscape: 21; 
  }

  html {
    /* Default to portrait font size */
    font-size: min(calc(100vw / var(--ipod-w-portrait)), calc(100svh / var(--ipod-h-portrait)));
  }

  .ipod-container {
    /* Portrait styles (iPod body) */
    width: 22.5rem;
    height: 100%;
    background-image: linear-gradient(to bottom, #e5e7eb, #9ca3af); /* bg-gradient-to-b from-gray-200 to-gray-400 */
    border-radius: 1.5rem; /* rounded-3xl */
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); /* shadow-2xl */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    padding: 1rem; /* p-4 */
    border: 2px solid #6b7280; /* border-2 border-gray-500 */
  }

  .ipod-body {
    width: 100%;
    margin-bottom: 2rem; /* mb-8 */
  }
  
  @media (orientation: landscape) {
    html {
      /* Switch to landscape font size */
      font-size: min(calc(100vw / var(--ipod-w-landscape)), calc(100svh / var(--ipod-h-landscape)));
    }
    
    .ipod-container {
      /* Reset container to be a simple flex wrapper for landscape */
      width: auto;
      height: auto;
      background-image: none;
      border-radius: 0;
      box-shadow: none;
      border: none;
      padding: 0;
      /* Arrange children (screen-body and wheel) side-by-side */
      flex-direction: row;
      justify-content: center;
      gap: 2rem; /* gap-8 */
    }

    .ipod-body {
      /* Re-apply iPod body styles to just the screen container */
      width: 22.5rem;
      height: auto;
      background-image: linear-gradient(to bottom, #e5e7eb, #9ca3af);
      border-radius: 1.5rem; /* rounded-3xl */
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 1rem; /* p-4 */
      border: 2px solid #6b7280; /* border-2 border-gray-500 */
      margin-bottom: 0;
    }
  }

  body {
    /* 
      Ensure the body takes up the full stable viewport height and respects
      safe areas on devices with notches or dynamic islands. This prevents
      the UI from jumping when browser chrome appears and ensures the iPod
      is centered within the usable screen area.
    */
    height: 100vh; /* Fallback for older browsers */
    height: 100svh;
    /* Account for safe areas so the flex centering works correctly */
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
    /* The flexbox container needs to account for the padding, so we use box-sizing */
    box-sizing: border-box;
  }
</style>
</head>
  <body class="bg-gray-100 flex items-stretch justify-center">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>